document.addEventListener("DOMContentLoaded", function () {
    // Initialize NGL Stage object
    var stage = new NGL.Stage("viewport");

    // Handle window resizing
    window.addEventListener("resize", function (event) {
        stage.handleResize();
    }, false);

    // Use the pdb variable from the global scope
    var url = "https://files.rcsb.org/download/" + pdb + ".pdb";

    // Load a PDB structure
    stage.loadFile(url).then(function (o) {
        o.addRepresentation("cartoon", { color: "sstruc" });
        stage.autoView();
    });
});