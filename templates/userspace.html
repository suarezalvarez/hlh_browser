{% extends 'base.html' %}
{% block title %}User space{% endblock %}

{% block body %}

<form class="form-signin text-center" action="{{ url_for('create_project') }}" method="post">
  <h1 class="h3 mb-3 fw-normal"><b> Welcome, {{ user_name }}</b></h1>

  <h2 class="h3 mb-3 fw-normal">Create a new project</h2>

  {{ form.hidden_tag() }}
  <div class="form-floating mb-1 col-md-6 mx-auto">
    {{ form.project_name(class_="form-control") }}
    <label for="project_name">Project name</label>
  </div>  
  <div class="form-floating mb-1 col-md-6 mx-auto pt-0">
    {{ form.description(class_="form-control") }}
    <label for="description">Description</label>
  </div>
  {{ form.submit(class_="btn btn-lg btn-primary", value="Create Project") }} 
</form>

<!-- Logout button -->
<form action="{{ url_for('logout') }}" method="post" class="text-center">
  <button type="submit" class="btn btn-lg btn-secondary">Logout</button>
</form>

{% for project in projects %}
  <h2>{{ project.project_name }}</h2>
  <p>{{ project.description }}</p>
  <h3>Genes:</h3>
  <ul>
    {% for gene in project.genes_projects %}
      <li>  <a href="{{ url_for('search', gene_name=gene.gene_name, species=gene.species) }}">{{ gene.gene_name }} ({{ gene.species }})</a></li>
    {% endfor %}
  </ul>
{% endfor %}

{% endblock %}